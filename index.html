<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>EVOL Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="my homepage">
    <meta name="keywords" content="homepage">
    <meta name="author" content="ZhengShuYu">
    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- CSS | STYLE -->
    <link rel="stylesheet" type="text/css" href="css/cal_style.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap-cal.css" />

</head>

<body>
    <div class="container" id="Container">

        <!-- HEADER -->
        <div class="header">
            <!-- <img id="header_pic" src="img/select_1.png" alt="header" />
        </div> -->
            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                <!-- 轮播（Carousel）指标 -->
                <ol class="carousel-indicators" style="display:none">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                    <li data-target="#myCarousel" data-slide-to="3"></li>
                </ol>
                <!-- 轮播（Carousel）项目 -->
                <div class="carousel-inner">
                    <div class="item active">
                        <img src="img/select_1.png" alt="First slide">
                    </div>
                    <div class="item">
                        <img src="img/select_2.png" alt="Second slide">
                    </div>
                    <div class="item">
                        <img src="img/select_3.png" alt="Third slide">
                    </div>
                    <div class="item">
                        <img src="img/select_4.png" alt="Forth slide">
                    </div>
                </div>
                <!-- 轮播（Carousel）导航 -->
                <a class="carousel-control left" href="#myCarousel" data-slide="prev" style="display:none">&lsaquo;</a>
                <a class="carousel-control right" href="#myCarousel" data-slide="next" style="display:none">&rsaquo;</a>
            </div> 
        </div>
        <!-- END HEADER -->

        <br/>

        <div class="item_body">

            <!-- SELF INTRODUCE -->
            <div class="mycard" id="section1">
                <h3>恋与制作人过关计算器</h3>
                <p>by <a href="http://weibo.com/msdarina">@达尔娜</a><br/><br/>
                    警告各位野男人: 再惹本小姐生气我就退坑!<br/><br/>
                    本计算器内请使用作者规定的称呼<br/>
                    白起 - 飞飞 or 本命<br/>
                    李泽言 - 怼怼 or 墙头<br/>
                    周棋洛 - 阳阳 or 儿砸<br/>
                    许墨 - 撩撩 or 闭嘴吧您<br/><br/>
                    ─=≡Σ(((つ•̀ω•́)人(￣ー￣)人(｡♥‿♥｡)人(^▽^)ﾉ<br/><br/>
                    <h4>使用说明</h4>
                    请先<a href="#section4">输入/导入</a>拥有的羁绊信息，然后再开始<a href="#section2">计算</a><br/>
                    为保证使用体验，清理浏览器cookie前请保存羁绊记录(点击最下方“生成羁绊记录”)<br/>
                    <h4>数据来源</h4>
                    权重计算方法引自<a href="https://weibo.com/1buck2">@am05201404</a><br/>
                    普通关权重数据引自<a href="https://weibo.com/unnamedgroup">@恋与制作人未命名攻略组</a><br/>
                    图片来源<a href="http://evol.papegames.cn/index.html">恋与制作人官网</a><br/>
                </p>
            </div>
            <!-- SELF INTRODUCE -->
            <br/>
            <div class="mycard" id="section2">
                <h4>得分计算</h4>
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th rowspan="2">关卡类别</th>
                            <th rowspan="2">关卡名</th>
                            <th colspan="4">权重</th>
                        </tr>
                        <tr>
                            <th>决策力</th>
                            <th>创造力</th>
                            <th>亲和力</th>
                            <th>行动力</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <select id="stage-category">
                                    <option value ="normal">普通</option>
                                    <option value ="hard">精英</option>
                                    <option value="arena">票房争夺战</option>
                                    <option value="instance">副本</option>
                                </select>
                            </td>
                            <td>
                                <select id="stage-name">
                                </select>
                            </td>
                            <td id="stage-decision"></td>
                            <td id="stage-creativity"></td>
                            <td id="stage-appetency"></td>
                            <td id="stage-action"></td>
                        </tr>
                    </tbody>
                </table>
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th colspan="6">推荐羁绊&nbsp;&nbsp;
                                <select id="num-cards">
                                    <option value ="-1">显示全部</option>
                                    <option value ="3">前 3 张</option>
                                    <option value="5">前 5 张</option>
                                    <option value="10">前 10 张</option>
                                </select>
                            </th>
                        </tr>
                        <tr>
                            <th>羁绊名</th>
                            <th>决策力</th>
                            <th>创造力</th>
                            <th>亲和力</th>
                            <th>行动力</th>
                            <th>得分</th>
                        </tr>
                    </thead>
                    <tbody id="recommendation">
                    </tbody>
                </table>
            </div>
            <br/>
            <div class="mycard" id="section3">
                <h4>我的羁绊信息</h4>
                <table class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>羁绊名</th>
                            <th>决策力</th>
                            <th>创造力</th>
                            <th>亲和力</th>
                            <th>行动力</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody id="card-table">
                    </tbody>
                </table>
            </div>
            <br/>
            <div class="mycard" id="section4">
                <h4>添加羁绊信息</h4>
                <div class="form-inline">
                    <label for="card-name" class="control-label">羁绊名</label>
                    <input type="text" class="form-control" id="card-name" name="card-name">
                </div>
                <br/>
                <div class="form-inline">
                    <label for="card-decision" class="control-label">决策力</label>
                    <input type="text" class="form-control" id="card-decision" name="card-decision">
                </div>
                <br/>
                <div class="form-inline">
                    <label for="card-creativity" class="control-label">创造力</label>
                    <input type="text" class="form-control" id="card-creativity" name="card-creativity">
                </div>
                <br/>
                <div class="form-inline">
                    <label for="card-appetency" class="control-label">亲和力</label>
                    <input type="text" class="form-control" id="card-appetency" name="card-appetency">
                </div>
                <br/>
                <div class="form-inline">
                    <label for="card-action" class="control-label">行动力</label>
                    <input type="text" class="form-control" id="card-action" name="card-action">
                </div>
                <br/>
                <button class="btn btn-default" onclick="addCard();">添加</button>
                <br/>
                <br/>
                <h4>批量导出/导入</h4>
                <div class="form-group">
                    <textarea id="import-text" class="form-control" rows="8" style="width:90%; margin:0 auto;"></textarea><br/>
                    <button id="export-button" class='btn btn-default' onclick="exportCard()">导出</button>&nbsp;&nbsp;
                    <button id="import-button" class='btn btn-primary' onclick="importCard();">导入</button>
                </div>
                <a href="#">返回顶部</a><br/><br/>
            </div>
        </div>

        <br/>
        <!-- FOOTER & COPYRIGHT -->
        <div class="footer">
            <p>Created by Zheng Shuyu 2018 @ Peking University</p>
        </div>
        <!-- END FOOTER & COPYRIGHT -->
    </div>

    <!-- PLUGIN SCRIPTS -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/calculator.js"></script>

    <script type="text/javascript">
        $('.carousel').carousel({
            interval: 5000
        })
        $('#stage-category').change(function(){
            var p1 = $(this).children('option:selected').val();
            loadName(p1);
            var p2 = $('#stage-name').children('option:selected').val();
            loadWeight(p1, p2);
        })
        $('#stage-name').change(function(){
            var p1 = $('#stage-category').children('option:selected').val();
            var p2 = $(this).children('option:selected').val();
            loadWeight(p1, p2);
        })
        $('#num-cards').change(function(){
            var p = $(this).children('option:selected').val();
            setMaxNum(p);
        })
        window.onload = function(){
            checkCookie();
            loadName("normal");
            loadWeight("normal", "02-01");
            // cards = new Object();
            // cards["list"] = new Array();
        }
    </script>
    <!-- END PLUGIN SCRIPTS -->

</body>
</html>